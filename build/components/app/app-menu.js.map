{"version":3,"sources":["app-menu.js"],"names":["AppMenu","props","setMainPanelContent","MainPanelContent","ROUTE_VIEWER","reactRouterConfig","startOverUrl","basename","window","location","href","languageConfig","_showRouteViewer","routeViewer","_startOver","Component","PropTypes","func","mapStateToProps","state","ownProps","otp","config","language","mapDispatchToProps"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;IAEMA,O;;;;;;;;;;;;;;;;;;uEAKe,YAAM;AACvB,YAAKC,KAAL,CAAWC,mBAAX,CAA+BC,qBAAiBC,YAAhD;AACD,K;;iEAEY,YAAM;AAAA,UACTC,iBADS,GACa,MAAKJ,KADlB,CACTI,iBADS;AAEjB,UAAIC,YAAY,GAAG,GAAnB;;AACA,UAAID,iBAAiB,IAAIA,iBAAiB,CAACE,QAA3C,EAAqD;AACnDD,QAAAA,YAAY,IAAID,iBAAiB,CAACE,QAAlC;AACD;;AACDC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,YAAvB;AACD,K;;;;;;;6BAES;AAAA,UACAK,cADA,GACmB,KAAKV,KADxB,CACAU,cADA;AAGR,aACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,6BAAC,8BAAD;AACE,QAAA,KAAK,EAAG,6BAAC,aAAD;AAAM,UAAA,IAAI,EAAC;AAAX,UADV;AAEE,QAAA,OAAO,MAFT;AAGE,QAAA,SAAS,EAAC,iBAHZ;AAIE,QAAA,EAAE,EAAC;AAJL,SAKE,6BAAC,wBAAD;AAAU,QAAA,OAAO,EAAE,KAAKC;AAAxB,SACE,6BAAC,aAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QADF,OACuBD,cAAc,CAACE,WAAf,IAA8B,cADrD,CALF,EAQE,6BAAC,wBAAD;AAAU,QAAA,OAAO,EAAE,KAAKC;AAAxB,SACE,6BAAC,aAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QADF,gBARF,CADF,CADF;AAgBD;;;;EArCmBC,gB,GAwCtB;;;gBAxCMf,O,eACe;AACjBE,EAAAA,mBAAmB,EAAEc,mBAAUC;AADd,C;;AAyCrB,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAC3C,SAAO;AACLT,IAAAA,cAAc,EAAEQ,KAAK,CAACE,GAAN,CAAUC,MAAV,CAAiBC;AAD5B,GAAP;AAGD,CAJD;;AAMA,IAAMC,kBAAkB,GAAG;AACzBtB,EAAAA,mBAAmB,EAAnBA;AADyB,CAA3B;;eAIe,yBAAQgB,eAAR,EAAyBM,kBAAzB,EAA6CxB,OAA7C,C","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { DropdownButton, MenuItem } from 'react-bootstrap'\n\nimport Icon from '../narrative/icon'\n\nimport { MainPanelContent, setMainPanelContent } from '../../actions/ui'\n\n// TODO: make menu items configurable via props/config\n\nclass AppMenu extends Component {\n  static propTypes = {\n    setMainPanelContent: PropTypes.func\n  }\n\n  _showRouteViewer = () => {\n    this.props.setMainPanelContent(MainPanelContent.ROUTE_VIEWER)\n  }\n\n  _startOver = () => {\n    const { reactRouterConfig } = this.props\n    let startOverUrl = '/'\n    if (reactRouterConfig && reactRouterConfig.basename) {\n      startOverUrl += reactRouterConfig.basename\n    }\n    window.location.href = startOverUrl\n  }\n\n  render () {\n    const { languageConfig } = this.props\n\n    return (\n      <div className='app-menu'>\n        <DropdownButton\n          title={(<Icon type='bars' />)}\n          noCaret\n          className='app-menu-button'\n          id='app-menu'>\n          <MenuItem onClick={this._showRouteViewer}>\n            <Icon type='bus' /> {languageConfig.routeViewer || 'Route Viewer'}\n          </MenuItem>\n          <MenuItem onClick={this._startOver}>\n            <Icon type='undo' /> Start Over\n          </MenuItem>\n        </DropdownButton>\n      </div>\n    )\n  }\n}\n\n// connect to the redux store\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    languageConfig: state.otp.config.language\n  }\n}\n\nconst mapDispatchToProps = {\n  setMainPanelContent\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppMenu)\n"]}