{"version":3,"sources":["date-time-preview.js"],"names":["DateTimePreview","props","caret","date","editButtonText","time","departArrive","routingType","startTime","endTime","timeFormat","dateFormat","timeStr","formattedTime","moment","utc","OTP_API_TIME_FORMAT","format","summary","OTP_API_DATE_FORMAT","calendar","sameElse","split","button","onClick","clear","Component","PropTypes","string","compressed","bool","element","func","mapStateToProps","state","ownProps","otp","currentQuery","config","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment'\nimport { connect } from 'react-redux'\nimport { Button } from 'react-bootstrap'\n\nimport {\n  OTP_API_DATE_FORMAT,\n  OTP_API_TIME_FORMAT,\n  getTimeFormat,\n  getDateFormat\n} from '../../util/time'\n\nclass DateTimePreview extends Component {\n  static propTypes = {\n    caret: PropTypes.string,\n    compressed: PropTypes.bool,\n    date: PropTypes.string,\n    departArrive: PropTypes.string,\n    editButtonText: PropTypes.element,\n    time: PropTypes.string,\n    onClick: PropTypes.func,\n    routingType: PropTypes.string\n  }\n\n  static defaultProps = {\n    editButtonText: <i className='fa fa-pencil' />\n  }\n\n  render () {\n    const {\n      caret,\n      date,\n      editButtonText,\n      time,\n      departArrive,\n      routingType,\n      startTime,\n      endTime,\n      timeFormat,\n      dateFormat\n    } = this.props\n\n    let timeStr\n    const formattedTime = moment.utc(time, OTP_API_TIME_FORMAT).format(timeFormat)\n    if (routingType === 'ITINERARY') {\n      if (departArrive === 'NOW') timeStr = 'Leave now'\n      else if (departArrive === 'ARRIVE') timeStr = 'Arrive ' + formattedTime\n      else if (departArrive === 'DEPART') timeStr = 'Depart ' + formattedTime\n    } else if (routingType === 'PROFILE') {\n      timeStr = startTime + ' to ' + endTime\n    }\n\n    const summary = (\n      <div className='summary'>\n        <i className='fa fa-calendar' /> {\n          moment(date, OTP_API_DATE_FORMAT)\n            .calendar(null, { sameElse: dateFormat })\n            .split(' at')[0]}\n        <br />\n        <i className='fa fa-clock-o' /> {timeStr}\n      </div>\n    )\n\n    const button = (\n      <div className='button-container'>\n        <Button onClick={this.props.onClick}>\n          {editButtonText}{caret && <span> <i className={`fa fa-caret-${caret}`} /></span>}\n        </Button>\n      </div>\n    )\n\n    return (\n      <div className='settings-preview' onClick={this.props.onClick}>\n        {summary}\n        {button}\n        <div style={{ clear: 'both' }} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { departArrive, date, time, routingType, startTime, endTime } = state.otp.currentQuery\n  return {\n    config: state.otp.config,\n    routingType,\n    departArrive,\n    date,\n    time,\n    startTime,\n    endTime,\n    timeFormat: getTimeFormat(state.otp.config),\n    dateFormat: getDateFormat(state.otp.config)\n  }\n}\n\nconst mapDispatchToProps = {\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateTimePreview)\n"]}